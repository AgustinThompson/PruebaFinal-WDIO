{"version":3,"file":"afterScreenshot.spec.js","sourceRoot":"","sources":["../../lib/helpers/afterScreenshot.spec.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAAgD;AAChD,6BAA4B;AAC5B,qCAAsC;AACtC,yDAA+C;AAE/C,QAAQ,CAAC,iBAAiB,EAAE;IAC1B,IAAM,MAAM,GAAG,IAAA,WAAI,EAAC,OAAO,CAAC,GAAG,EAAE,EAAE,uBAAuB,CAAC,CAAC;IAE5D,SAAS,CAAC,cAAM,OAAA,IAAA,qBAAU,EAAC,MAAM,CAAC,EAAlB,CAAkB,CAAC,CAAC;IAEpC,EAAE,CAAC,oEAAoE,EAAE;;;;;oBACjE,eAAe,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;oBAChD,OAAO,GAAG;wBACd,YAAY,EAAE,MAAM;wBACpB,WAAW,EAAE,QAAQ;wBACrB,mBAAmB,EAAE,KAAK;wBAC1B,QAAQ,EAAE;4BACR,WAAW,EAAE,aAAa;4BAC1B,UAAU,EAAE,YAAY;4BACxB,QAAQ,EAAE,KAAK;4BACf,eAAe,EAAE,IAAI;yBACtB;wBACD,QAAQ,EAAE;4BACR,WAAW,EAAE,aAAa;4BAC1B,cAAc,EAAE,gBAAgB;4BAChC,UAAU,EAAE,YAAY;4BACxB,gBAAgB,EAAE,CAAC;4BACnB,eAAe,EAAE,gDAAgD;4BACjE,QAAQ,EAAE,KAAK;4BACf,eAAe,EAAE,IAAI;4BACrB,OAAO,EAAE,SAAS;4BAClB,IAAI,EAAE,MAAM;4BACZ,WAAW,EAAE,GAAG;4BAChB,UAAU,EAAE,IAAI;4BAChB,YAAY,EAAE,cAAc;4BAC5B,eAAe,EAAE,iBAAiB;4BAClC,YAAY,EAAE,GAAG;4BACjB,WAAW,EAAE,IAAI;4BACjB,GAAG,EAAE,KAAK;yBACX;wBACD,cAAc,EAAE,IAAI;wBACpB,WAAW,EAAE,KAAK;wBAClB,QAAQ,EAAE,4BAAQ,CAAC,KAAK;wBACxB,YAAY,EAAE,CAAoB,aAAc,CAAC;wBACjD,YAAY,EAAE,EAAE;wBAChB,cAAc,EAAE,CAAoB,aAAc,CAAC;qBACpD,CAAC;oBAEF,KAAA,MAAM,CAAA;oBAAC,WAAM,IAAA,yBAAe,EAAC,eAAe,EAAE,OAAO,CAAC,EAAA;;oBAAtD,kBAAO,SAA+C,EAAC,CAAC,OAAO,CAAC;wBAC9D,gBAAgB,EAAE,CAAC;wBACnB,QAAQ,EAAE,oCAAoC;wBAC9C,WAAW,EAAE,KAAK;wBAClB,IAAI,EAAE,UAAG,OAAO,CAAC,GAAG,EAAE,8CAA2C;qBAClE,CAAC,CAAC;;;;SACJ,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import afterScreenshot from './afterScreenshot';\nimport { join } from 'path';\nimport { removeSync } from 'fs-extra';\nimport { LogLevel } from './options.interface';\n\ndescribe('afterScreenshot', () => {\n  const folder = join(process.cwd(), '/.tmp/afterScreenshot');\n\n  afterEach(() => removeSync(folder));\n\n  it('should be able to return the ScreenshotOutput with default options', async () => {\n    const MOCKED_EXECUTOR = jest.fn().mockReturnValue('');\n    const options = {\n      actualFolder: folder,\n      base64Image: 'string',\n      disableCSSAnimation: false,\n      filePath: {\n        browserName: 'browserName',\n        deviceName: 'deviceName',\n        isMobile: false,\n        savePerInstance: true,\n      },\n      fileName: {\n        browserName: 'browserName',\n        browserVersion: 'browserVersion',\n        deviceName: 'deviceName',\n        devicePixelRatio: 2,\n        formatImageName: '{tag}-{browserName}-{width}x{height}-dpr-{dpr}',\n        isMobile: false,\n        isTestInBrowser: true,\n        logName: 'logName',\n        name: 'name',\n        outerHeight: 850,\n        outerWidth: 1400,\n        platformName: 'platformName',\n        platformVersion: 'platformVersion',\n        screenHeight: 900,\n        screenWidth: 1440,\n        tag: 'tag',\n      },\n      hideScrollBars: true,\n      isLandscape: false,\n      logLevel: LogLevel.debug,\n      hideElements: [<HTMLElement>(<any>'<div></div>')],\n      platformName: '',\n      removeElements: [<HTMLElement>(<any>'<div></div>')],\n    };\n\n    expect(await afterScreenshot(MOCKED_EXECUTOR, options)).toEqual({\n      devicePixelRatio: 2,\n      fileName: 'tag-browserName-1400x850-dpr-2.png',\n      isLandscape: false,\n      path: `${process.cwd()}/.tmp/afterScreenshot/desktop_browserName`,\n    });\n  });\n});\n"]}