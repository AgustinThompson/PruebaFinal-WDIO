{"version":3,"file":"saveTabbablePage.js","sourceRoot":"","sources":["../../lib/commands/saveTabbablePage.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,kFAA6E;AAC7E,2DAAsD;AAEtD,kFAA6E;AAK7E,SAA8B,gBAAgB,CAC5C,OAAgB,EAChB,YAA0B,EAC1B,OAAgB,EAChB,GAAW,EACX,mBAAwC;;;;;wBAGxC,WAAM,OAAO,CAAC,QAAQ,CAAC,8BAAoB,EAAE,mBAAmB,CAAC,GAAG,CAAC,eAAe,CAAC,EAAA;;oBAArF,SAAqF,CAAC;oBAGjE,WAAM,IAAA,4BAAkB,EAAC,OAAO,EAAE,YAAY,EAAE,OAAO,EAAE,GAAG,EAAE,mBAAmB,CAAC,EAAA;;oBAAjG,YAAY,GAAG,SAAkF;oBAGvG,WAAM,OAAO,CAAC,QAAQ,CAAC,8BAAoB,EAAE,qBAAqB,CAAC,EAAA;;oBAAnE,SAAmE,CAAC;oBAGpE,WAAO,YAAY,EAAC;;;;CACrB;AAlBD,mCAkBC","sourcesContent":["import { ScreenshotOutput } from '../helpers/afterScreenshot.interfaces';\nimport { Methods } from '../methods/methods.interface';\nimport { InstanceData } from '../methods/instanceData.interfaces';\nimport { Folders } from '../base.interface';\nimport drawTabbableOnCanvas from '../clientSideScripts/drawTabbableOnCanvas';\nimport saveFullPageScreen from './saveFullPageScreen';\nimport { SaveTabbableOptions } from './tabbable.interfaces';\nimport removeElementFromDom from '../clientSideScripts/removeElementFromDom';\n\n/**\n * Saves an image of all tab executions\n */\nexport default async function saveTabbablePage(\n  methods: Methods,\n  instanceData: InstanceData,\n  folders: Folders,\n  tag: string,\n  saveTabbableOptions: SaveTabbableOptions,\n): Promise<ScreenshotOutput> {\n  // 1. Inject drawing the tabbables\n  await methods.executor(drawTabbableOnCanvas, saveTabbableOptions.wic.tabbableOptions);\n\n  // 2. Create the screenshot\n  const fullPageData = await saveFullPageScreen(methods, instanceData, folders, tag, saveTabbableOptions);\n\n  // 3. Remove the canvas\n  await methods.executor(removeElementFromDom, 'wic-tabbable-canvas');\n\n  // 4. Return the data\n  return fullPageData;\n}\n"]}